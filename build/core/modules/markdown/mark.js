'use strict';exports.__esModule=true;exports.mark=undefined;var _code_rules=require('./rules/code_rules');var _code_rules2=_interopRequireDefault(_code_rules);var _front_line_rules=require('./rules/front_line_rules');var _front_line_rules2=_interopRequireDefault(_front_line_rules);var _wrapper_rules=require('./rules/wrapper_rules');var _wrapper_rules2=_interopRequireDefault(_wrapper_rules);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var code=[];var handleParagraphBlocks=function handleParagraphBlocks(str){if(!str)return str;var secs=str.split('\n');secs=_front_line_rules2.default.parse(secs,_front_line_rules2.default.blockquote);secs=_front_line_rules2.default.parse(secs,_front_line_rules2.default.h1);secs=_front_line_rules2.default.parse(secs,_front_line_rules2.default.h2);secs=_front_line_rules2.default.parse(secs,_front_line_rules2.default.h3);secs=_front_line_rules2.default.parse(secs,_front_line_rules2.default.hr);secs=_front_line_rules2.default.parse(secs,_front_line_rules2.default.hrDouble);secs=_front_line_rules2.default.parse(secs,_front_line_rules2.default.hrThick);secs=_front_line_rules2.default.parse(secs,_front_line_rules2.default.tip);secs=_front_line_rules2.default.parse(secs,_front_line_rules2.default.warning);str='<div class="paragraph">'+secs.join('</div><div class="paragraph">')+'</div>';str=_wrapper_rules2.default.parse(str,_wrapper_rules2.default.icon);str=_wrapper_rules2.default.parse(str,_wrapper_rules2.default.italic);str=_wrapper_rules2.default.parse(str,_wrapper_rules2.default.strike);str=_wrapper_rules2.default.parse(str,_wrapper_rules2.default.strong);return str};var handleCodeRules=function handleCodeRules(str){if(!str)return str;var moreToReplace=true;while(moreToReplace){var idx1=str.indexOf('```');var idx2=str.indexOf('```',idx1+3);if(idx1<idx2){var codeStr=str.slice(idx1,idx2+4);var lang='';var file='';var topStr=(codeStr.match(/```(.+)\n/)||[])[1];if(topStr){var _idx=topStr.indexOf('[');var _idx2=topStr.indexOf(']');if(_idx<_idx2){file=topStr.slice(_idx+1,_idx2)}lang=topStr.replace('['+file+']','')}var langSpan='';if(lang){langSpan='<span class="language '+lang.toLowerCase()+'">'+lang+'</span>'}var fileSpan='';if(file){fileSpan='<span class="file '+lang.toLowerCase()+'">'+file+'</span>'}str=str.replace(codeStr,'[%-!code'+code.length+'!-%]');codeStr=codeStr.replace(topStr,'');codeStr=codeStr.replace('```','');codeStr=codeStr.replace('```','');code.push('\n        <div class="codeblock">\n          <span class="title-bar">\n            '+langSpan+'\n            '+fileSpan+'\n          </span>\n          <pre>\n            '+_code_rules2.default.parse(codeStr,lang)+'\n          </pre>\n        </div>')}else{moreToReplace=false}}console.log(code);return str};var handleInternalMarkers=function handleInternalMarkers(str){code.forEach(function(c,i){return str=str.replace('[%-!code'+i+'!-%]',c)});code=[];return str};var mark=exports.mark=function mark(str){str=handleCodeRules(str);str=handleParagraphBlocks(str);str=handleInternalMarkers(str);console.log(str);return str};;var _temp=function(){if(typeof __REACT_HOT_LOADER__==='undefined'){return}__REACT_HOT_LOADER__.register(code,'code','core/modules/markdown/mark.js');__REACT_HOT_LOADER__.register(handleParagraphBlocks,'handleParagraphBlocks','core/modules/markdown/mark.js');__REACT_HOT_LOADER__.register(handleCodeRules,'handleCodeRules','core/modules/markdown/mark.js');__REACT_HOT_LOADER__.register(handleInternalMarkers,'handleInternalMarkers','core/modules/markdown/mark.js');__REACT_HOT_LOADER__.register(mark,'mark','core/modules/markdown/mark.js')}();;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hcmsuanMiXSwibmFtZXMiOlsiY29kZSIsImhhbmRsZVBhcmFncmFwaEJsb2NrcyIsInN0ciIsInNlY3MiLCJzcGxpdCIsInBhcnNlIiwiYmxvY2txdW90ZSIsImgxIiwiaDIiLCJoMyIsImhyIiwiaHJEb3VibGUiLCJoclRoaWNrIiwidGlwIiwid2FybmluZyIsImpvaW4iLCJpY29uIiwiaXRhbGljIiwic3RyaWtlIiwic3Ryb25nIiwiaGFuZGxlQ29kZVJ1bGVzIiwibW9yZVRvUmVwbGFjZSIsImlkeDEiLCJpbmRleE9mIiwiaWR4MiIsImNvZGVTdHIiLCJzbGljZSIsImxhbmciLCJmaWxlIiwidG9wU3RyIiwibWF0Y2giLCJyZXBsYWNlIiwibGFuZ1NwYW4iLCJ0b0xvd2VyQ2FzZSIsImZpbGVTcGFuIiwibGVuZ3RoIiwicHVzaCIsImNvbnNvbGUiLCJsb2ciLCJoYW5kbGVJbnRlcm5hbE1hcmtlcnMiLCJmb3JFYWNoIiwiYyIsImkiLCJtYXJrIl0sIm1hcHBpbmdzIjoiNERBQUEsOEMscURBQ0EsMEQsaUVBQ0Esb0QsNklBR0EsR0FBSUEsTUFBTyxFQUFYLENBT0EsR0FBTUMsdUJBQXdCLFFBQXhCQSxzQkFBd0IsQ0FBQ0MsR0FBRCxDQUFTLENBQ3JDLEdBQUksQ0FBQ0EsR0FBTCxDQUFVLE1BQU9BLElBQVAsQ0FDVixHQUFJQyxNQUFPRCxJQUFJRSxLQUFKLENBQVUsSUFBVixDQUFYLENBQ0FELEtBQU8sMkJBQWVFLEtBQWYsQ0FBcUJGLElBQXJCLENBQTJCLDJCQUFlRyxVQUExQyxDQUFQLENBQ0FILEtBQU8sMkJBQWVFLEtBQWYsQ0FBcUJGLElBQXJCLENBQTJCLDJCQUFlSSxFQUExQyxDQUFQLENBQ0FKLEtBQU8sMkJBQWVFLEtBQWYsQ0FBcUJGLElBQXJCLENBQTJCLDJCQUFlSyxFQUExQyxDQUFQLENBQ0FMLEtBQU8sMkJBQWVFLEtBQWYsQ0FBcUJGLElBQXJCLENBQTJCLDJCQUFlTSxFQUExQyxDQUFQLENBQ0FOLEtBQU8sMkJBQWVFLEtB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RCxDQTdDRCxJQTZDTyxDQUNMTixjQUFnQixLQUNqQixDQUNGLENBQ0RnQixRQUFRQyxHQUFSLENBQVl0QyxJQUFaLEVBQ0EsTUFBT0UsSUFDUixDQTNERCxDQTZEQSxHQUFNcUMsdUJBQXdCLFFBQXhCQSxzQkFBd0IsQ0FBQ3JDLEdBQUQsQ0FBUyxDQUlyQ0YsS0FBS3dDLE9BQUwsQ0FBYSxTQUFDQyxDQUFELENBQUlDLENBQUosUUFBVXhDLEtBQU1BLElBQUk2QixPQUFKLFlBQXVCVyxDQUF2QixRQUFnQ0QsQ0FBaEMsQ0FBaEIsQ0FBYixFQUNBekMsS0FBTyxFQUFQLENBQ0EsTUFBT0UsSUFDUixDQVBELENBU08sR0FBTXlDLG1CQUFPLFFBQVBBLEtBQU8sQ0FBQ3pDLEdBQUQsQ0FBUyxDQUkzQkEsSUFBTWtCLGdCQUFnQmxCLEdBQWhCLENBQU4sQ0FFQUEsSUFBTUQsc0JBQXNCQyxHQUF0QixDQUFOLENBRUFBLElBQU1xQyxzQkFBc0JyQyxHQUF0QixDQUFOLENBRUFtQyxRQUFRQyxHQUFSLENBQVlwQyxHQUFaLEVBRUEsTUFBT0EsSUFDUixDQWJNLEMseUdBckdIRixJLHVFQU9FQyxxQix3RkF3QkFtQixlLGtGQTZEQW1CLHFCLHdGQVNPSSxJIiwiZmlsZSI6Im1hcmsuanMiLCJzb3VyY2VSb290IjoiL1VzZXJzL3RvbnluZ3V5ZW4vSWRlYVByb2plY3RzL2NvZGVmb3JhcHBzL3Rvb2xzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNvZGVSdWxlcyBmcm9tICcuL3J1bGVzL2NvZGVfcnVsZXMnO1xuaW1wb3J0IGZyb250TGluZVJ1bGVzIGZyb20gJy4vcnVsZXMvZnJvbnRfbGluZV9ydWxlcyc7XG5pbXBvcnQgd3JhcHBlclJ1bGVzICAgZnJvbSAnLi9ydWxlcy93cmFwcGVyX3J1bGVzJztcblxuLy8gRm9yIGhhbmRsaW5nIGNvZGUgYmxvY2tzXG5sZXQgY29kZSA9IFtdO1xuXG4vKipcbiAqIFRoZXNlIGFyZSB0aGUgcnVsZXMgdGhhdCBjYW4ndCBjcm9zcyB0aHJvdWdoIG5ldyBsaW5lc1xuICogQHBhcmFtIHN0clxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuY29uc3QgaGFuZGxlUGFyYWdyYXBoQmxvY2tzID0gKHN0cikgPT4ge1xuICBpZiAoIXN0cikgcmV0dXJuIHN0cjtcbiAgbGV0IHNlY3MgPSBzdHIuc3BsaXQoJ1xcbicpO1xuICBzZWNzID0gZnJvbnRMaW5lUnVsZXMucGFyc2Uoc2VjcywgZnJvbnRMaW5lUnVsZXMuYmxvY2txdW90ZSk7XG4gIHNlY3MgPSBmcm9udExpbmVSdWxlcy5wYXJzZShzZWNzLCBmcm9udExpbmVSdWxlcy5oMSk7XG4gIHNlY3MgPSBmcm9udExpbmVSdWxlcy5wYXJzZShzZWNzLCBmcm9udExpbmVSdWxlcy5oMik7XG4gIHNlY3MgPSBmcm9udExpbmVSdWxlcy5wYXJzZShzZWNzLCBmcm9udExpbmVSdWxlcy5oMyk7XG4gIHNlY3MgPSBmcm9udExpbmVSdWxlcy5wYXJzZShzZWNzLCBmcm9udExpbmVSdWxlcy5ocik7XG4gIHNlY3MgPSBmcm9udExpbmVSdWxlcy5wYXJzZShzZWNzLCBmcm9udExpbmVSdWxlcy5ockRvdWJsZSk7XG4gIHNlY3MgPSBmcm9udExpbmVSdWxlcy5wYXJzZShzZWNzLCBmcm9udExpbmVSdWxlcy5oclRoaWNrKTtcbiAgc2VjcyA9IGZyb250TGluZVJ1bGVzLnBhcnNlKHNlY3MsIGZyb250TGluZVJ1bGVzLnRpcCk7XG4gIHNlY3MgPSBmcm9udExpbmVSdWxlcy5wYXJzZShzZWNzLCBmcm9udExpbmVSdWxlcy53YXJuaW5nKTtcblxuICBzdHIgPSBgPGRpdiBjbGFzcz1cInBhcmFncmFwaFwiPiR7c2Vjcy5qb2luKCc8L2Rpdj48ZGl2IGNsYXNzPVxcXCJwYXJhZ3JhcGhcXFwiPicpfTwvZGl2PmA7XG4gIFxuICBzdHIgPSB3cmFwcGVyUnVsZXMucGFyc2Uoc3RyLCB3cmFwcGVyUnVsZXMuaWNvbik7XG4gIHN0ciA9IHdyYXBwZXJSdWxlcy5wYXJzZShzdHIsIHdyYXBwZXJSdWxlcy5pdGFsaWMpO1xuICBzdHIgPSB3cmFwcGVyUnVsZXMucGFyc2Uoc3RyLCB3cmFwcGVyUnVsZXMuc3RyaWtlKTtcbiAgc3RyID0gd3JhcHBlclJ1bGVzLnBhcnNlKHN0ciwgd3JhcHBlclJ1bGVzLnN0cm9uZyk7XG5cbiAgcmV0dXJuIHN0cjtcblxufTtcblxuY29uc3QgaGFuZGxlQ29kZVJ1bGVzID0gKHN0cikgPT4ge1xuICBpZiAoIXN0cikgcmV0dXJuIHN0cjtcbiAgbGV0IG1vcmVUb1JlcGxhY2UgPSB0cnVlO1xuICB3aGlsZSAobW9yZVRvUmVwbGFjZSkge1xuICAgIGxldCBpZHgxID0gc3RyLmluZGV4T2YoJ2BgYCcpO1xuICAgIGxldCBpZHgyID0gc3RyLmluZGV4T2YoJ2BgYCcsIGlkeDEgKyAzKTtcblxuICAgIC8vIGlmIGNvZGVibG9jayBmb3VuZFxuICAgIGlmIChpZHgxIDwgaWR4Mikge1xuICAgICAgLy8gZ3JhYiB0aGUgY29tcGxldGUgY29kZSBzdHJpbmcgd2l0aCB0aWNrcyBhbmQgbGFuZ3VhZ2VcbiAgICAgIGxldCBjb2RlU3RyID0gc3RyLnNsaWNlKGlkeDEsIGlkeDIrNCk7XG5cbiAgICAgIC8vIGdyYWIgdGhlIGxhbmd1YWdlIGFuZCBmaWxlbmFtZSBpZiB0aGV5IGV4aXN0IGZyb20gdGhlIHRvcFxuICAgICAgbGV0IGxhbmcgPSAnJztcbiAgICAgIGxldCBmaWxlID0gJyc7XG4gICAgICBsZXQgdG9wU3RyID0gKGNvZGVTdHIubWF0Y2goL2BgYCguKylcXG4vKSB8fCBbXSlbMV07XG4gICAgICBpZiAodG9wU3RyKSB7XG4gICAgICAgIGNvbnN0IGlkeDEgPSB0b3BTdHIuaW5kZXhPZignWycpO1xuICAgICAgICBjb25zdCBpZHgyID0gdG9wU3RyLmluZGV4T2YoJ10nKTtcbiAgICAgICAgaWYgKGlkeDEgPCBpZHgyKSB7XG4gICAgICAgICAgZmlsZSA9IHRvcFN0ci5zbGljZShpZHgxKzEsaWR4Mik7XG4gICAgICAgIH1cbiAgICAgICAgbGFuZyA9IHRvcFN0ci5yZXBsYWNlKGBbJHtmaWxlfV1gLCAnJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIGNyZWF0ZSB0aGUgbGFuZ3VhZ2UgYW5kIGZpbGVuYW1lIHNwYW5zXG4gICAgICBsZXQgbGFuZ1NwYW4gPSAnJztcbiAgICAgIGlmIChsYW5nKSB7XG4gICAgICAgIGxhbmdTcGFuID0gYDxzcGFuIGNsYXNzPVwibGFuZ3VhZ2UgJHtsYW5nLnRvTG93ZXJDYXNlKCl9XCI+JHtsYW5nfTwvc3Bhbj5gO1xuICAgICAgfVxuICAgICAgbGV0IGZpbGVTcGFuID0gJyc7XG4gICAgICBpZiAoZmlsZSkge1xuICAgICAgICBmaWxlU3BhbiA9IGA8c3BhbiBjbGFzcz1cImZpbGUgJHtsYW5nLnRvTG93ZXJDYXNlKCl9XCI+JHtmaWxlfTwvc3Bhbj5gO1xuICAgICAgfVxuICAgICAgLy8gcmVwbGFjZSB0aGUgY29kZSBzdHJpbmcgd2l0aCBhbiBpbnRlcm5hbCBtYXJrZXIgaW4gdGhlIG9yaWdpbmFsIHN0cmluZ1xuICAgICAgc3RyID0gc3RyLnJlcGxhY2UoY29kZVN0ciwgJ1slLSFjb2RlJyArIGNvZGUubGVuZ3RoICsgJyEtJV0nKTtcblxuICAgICAgLy8gY2xlYW4gdXAgdGhlIGNvZGUgc3RyaW5nIGJlZm9yZSBwYXNzaW5nIGl0IHRvIHRoZSBjb2RlUnVsZXMgaGlnaGxpZ2h0ZXJcbiAgICAgIGNvZGVTdHIgPSBjb2RlU3RyLnJlcGxhY2UodG9wU3RyLCAnJyk7XG4gICAgICBjb2RlU3RyID0gY29kZVN0ci5yZXBsYWNlKCdgYGAnLCcnKTtcbiAgICAgIGNvZGVTdHIgPSBjb2RlU3RyLnJlcGxhY2UoJ2BgYCcsJycpO1xuXG4gICAgICAvLyBwdXNoIHRoZSBoaWdobGlnaHQgcmVzdWx0IGludG8gdGhlIGNvZGUgZ2xvYmFsXG4gICAgICBjb2RlLnB1c2goYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29kZWJsb2NrXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0aXRsZS1iYXJcIj5cbiAgICAgICAgICAgICR7bGFuZ1NwYW59XG4gICAgICAgICAgICAke2ZpbGVTcGFufVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8cHJlPlxuICAgICAgICAgICAgJHtjb2RlUnVsZXMucGFyc2UoY29kZVN0ciwgbGFuZyl9XG4gICAgICAgICAgPC9wcmU+XG4gICAgICAgIDwvZGl2PmApO1xuICAgIH0gZWxzZSB7XG4gICAgICBtb3JlVG9SZXBsYWNlID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIGNvbnNvbGUubG9nKGNvZGUpO1xuICByZXR1cm4gc3RyO1xufTtcblxuY29uc3QgaGFuZGxlSW50ZXJuYWxNYXJrZXJzID0gKHN0cikgPT4ge1xuICAvLyBGb3IgZWFjaCBpdGVtIGluIGNvZGVbXSwgcmVwbGFjZSBvdXIgaW50ZXJuYWwgbWFya2VyIHdpdGggaXRcbiAgLy8gb3VyIGludGVybmFsIG1hcmtlciBmb3IgY29kZSBpcyBbJS0hY29kZSMhLSVdIHdoZXJlICMgaXMgdGhlIGluZGV4IGluXG4gIC8vIHRoZSBjb2RlIGFycmF5LlxuICBjb2RlLmZvckVhY2goKGMsIGkpID0+IHN0ciA9IHN0ci5yZXBsYWNlKGBbJS0hY29kZSR7aX0hLSVdYCwgYykpO1xuICBjb2RlID0gW107XG4gIHJldHVybiBzdHI7XG59O1xuXG5leHBvcnQgY29uc3QgbWFyayA9IChzdHIpID0+IHtcblxuICAvLyBGaXJzdCB3ZSdyZSBnb2luZyB0byBjaGVjayBmb3IgY29kZSwgcHVsbCB0aGVtIG91dCBhbmQgcmVwbGFjZSB0aGVtIHdpdGggaW50ZXJuYWxcbiAgLy8gbWFya2VycyB0byB0aGVpciBsb2NhdGlvbiwgc28gdGhhdCB0aGV5IGRvbid0IGdldCBtdW5nZWQgYnkgb3RoZXIgcnVsZXNcbiAgc3RyID0gaGFuZGxlQ29kZVJ1bGVzKHN0cik7XG4gIC8vIE5vdyBydW4gb3VyIHJ1bGVzIHRoYXQgYXJlIGJvdW5kIGJ5IHBhcmFncmFwaFxuICBzdHIgPSBoYW5kbGVQYXJhZ3JhcGhCbG9ja3Moc3RyKTtcbiAgLy8gTm93IHdlIGNhbiByZXBsYWNlIG91ciBpbnRlcm5hbCBtYXJrZXJzXG4gIHN0ciA9IGhhbmRsZUludGVybmFsTWFya2VycyhzdHIpO1xuXG4gIGNvbnNvbGUubG9nKHN0cik7XG4gIC8vIFJldHVybiB0aGUgcmVzdWx0XG4gIHJldHVybiBzdHI7XG59O1xuIl19