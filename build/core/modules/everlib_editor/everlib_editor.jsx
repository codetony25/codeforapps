'use strict';exports.__esModule=true;var _getPrototypeOf=require('babel-runtime/core-js/object/get-prototype-of');var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=require('babel-runtime/helpers/possibleConstructorReturn');var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=require('babel-runtime/helpers/inherits');var _inherits3=_interopRequireDefault(_inherits2);var _jsxFileName='core/modules/everlib_editor/everlib_editor.jsx';var _react=require('react');var _react2=_interopRequireDefault(_react);var _jassy=require('jassy');var _draftJs=require('draft-js');var _editor=require('../../../styles/shared/editor.style');var _editor2=_interopRequireDefault(_editor);var _custom_blocks=require('./custom_blocks');var _custom_inline=require('./custom_inline');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var EverLibEditor=function(_React$Component){(0,_inherits3.default)(EverLibEditor,_React$Component);function EverLibEditor(props){(0,_classCallCheck3.default)(this,EverLibEditor);var _this=(0,_possibleConstructorReturn3.default)(this,(EverLibEditor.__proto__||(0,_getPrototypeOf2.default)(EverLibEditor)).call(this,props));_this.handleKeyCommand=function(){return _this.__handleKeyCommand__REACT_HOT_LOADER__.apply(_this,arguments)};_this.state={blockRenderMap:_draftJs.DefaultDraftBlockRenderMap.merge(_custom_blocks.customBlockRenderMap)};_this.focus=function(){return _this.refs.editor.focus()};return _this}(0,_createClass3.default)(EverLibEditor,[{key:'__handleKeyCommand__REACT_HOT_LOADER__',value:function __handleKeyCommand__REACT_HOT_LOADER__(){return this.__handleKeyCommand__REACT_HOT_LOADER__.apply(this,arguments)}},{key:'__handleKeyCommand__REACT_HOT_LOADER__',value:function __handleKeyCommand__REACT_HOT_LOADER__(command){var newState=_draftJs.RichUtils.handleKeyCommand(this.props.editorState,command);if(newState){this.props.handleChange(newState);return true}return false}},{key:'render',value:function render(){console.log('Rendering EverLibEditor');return _react2.default.createElement('div',{className:'everlib-editor everlib-format',onClick:this.focus,__source:{fileName:_jsxFileName,lineNumber:42}},_react2.default.createElement(_jassy.Style,{rules:(0,_editor2.default)(),__source:{fileName:_jsxFileName,lineNumber:43}}),_react2.default.createElement(_draftJs.Editor,{editorState:this.props.editorState,blockStyleFn:_custom_blocks.blockStyleFn,blockRenderMap:this.state.blockRenderMap,customStyleMap:_custom_inline.customStyleMap,handleKeyCommand:this.handleKeyCommand,onChange:this.props.handleChange,ref:'editor',__source:{fileName:_jsxFileName,lineNumber:44}}))}}]);return EverLibEditor}(_react2.default.Component);var _default=EverLibEditor;exports.default=_default;;var _temp=function(){if(typeof __REACT_HOT_LOADER__==='undefined'){return}__REACT_HOT_LOADER__.register(EverLibEditor,'EverLibEditor','core/modules/everlib_editor/everlib_editor.jsx');__REACT_HOT_LOADER__.register(_default,'default','core/modules/everlib_editor/everlib_editor.jsx')}();;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV2ZXJsaWJfZWRpdG9yLmpzeCJdLCJuYW1lcyI6WyJFdmVyTGliRWRpdG9yIiwicHJvcHMiLCJoYW5kbGVLZXlDb21tYW5kIiwic3RhdGUiLCJibG9ja1JlbmRlck1hcCIsIm1lcmdlIiwiZm9jdXMiLCJyZWZzIiwiZWRpdG9yIiwiY29tbWFuZCIsIm5ld1N0YXRlIiwiZWRpdG9yU3RhdGUiLCJoYW5kbGVDaGFuZ2UiLCJjb25zb2xlIiwibG9nIiwiQ29tcG9uZW50Il0sIm1hcHBpbmdzIjoicXdCQUFBLDRCLDJDQUNBLDRCQUNBLGlDQVVBLDJELDZDQUNBLDhDQUNBLDhDLHFGQUVNQSxjLG1GQUVKLHVCQUFZQyxLQUFaLENBQW1CLDBMQUNYQSxLQURXLFNBVW5CQyxnQkFWbUIsd0ZBR2pCLE1BQUtDLEtBQUwsQ0FBYSxDQUNYQyxlQUFnQixvQ0FBMkJDLEtBQTNCLHFDQURMLENBQWIsQ0FJQSxNQUFLQyxLQUFMLENBQWEsaUJBQU0sT0FBS0MsSUFBTCxDQUFVQyxNQUFWLENBQWlCRixLQUFqQixFQUFOLENBQWIsQ0FQaUIsWUFRbEIsQyw4VEFFbUJHLE8sQ0FBWSxDQUM5QixHQUFNQyxVQUNKLG1CQUFVUixnQkFBVixDQUEyQixLQUFLRCxLQUFMLENBQVdVLFdBQXRDLENBQW1ERixPQUFuRCxDQURGLENBRUEsR0FBSUMsUUFBSixDQUFjLENBQ1osS0FBS1QsS0FBTCxDQUFXVyxZQUFYLENBQXdCRixRQUF4QixFQUNBLE1BQU8sS0FDUixDQUNELE1BQU8sTUFDUixDLHVDQUVRLENBQ1BHLFFBQVFDLEdBQVIsQ0FBWSx5QkFBWixFQUNBLE1BQ0Usc0NBQUssVUFBVSwrQkFBZixDQUErQyxRQUFTLEtBQUtSLEtBQTdELGlEQUNFLDRDQUFPLE1BQU8sc0JBQWQsaURBREYsQ0FFRSwrQ0FDRSxZQUFhLEtBQUtMLEtBQUwsQ0FBV1UsV0FEMUIsQ0FFRSx3Q0FGRixDQUdFLGVBQWdCLEtBQUtSLEtBQUwsQ0FBV0MsY0FIN0IsQ0FJRSw0Q0FKRixDQUtFLGlCQUFrQixLQUFLRixnQkFMekIsQ0FNRSxTQUFVLEtBQUtELEtBQUwsQ0FBV1csWUFOdkIsQ0FPRSxJQUFJLFFBUE4saURBRkYsQ0FhSCxDLDBCQXRDeUIsZ0JBQU1HLFMsZUEwQ25CZixhLG1JQTFDVEEsYSIsImZpbGUiOiJldmVybGliX2VkaXRvci5qc3giLCJzb3VyY2VSb290IjoiL1VzZXJzL3RvbnluZ3V5ZW4vSWRlYVByb2plY3RzL2NvZGVmb3JhcHBzL3Rvb2xzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFN0eWxlIH0gZnJvbSAnamFzc3knO1xuaW1wb3J0IHtcbiAgQXRvbWljQmxvY2tVdGlscyxcbiAgRWRpdG9yLFxuICBFZGl0b3JTdGF0ZSxcbiAgUmljaFV0aWxzLFxuICBEZWZhdWx0RHJhZnRCbG9ja1JlbmRlck1hcCxcbiAgQmxvY2tUeXBlLFxuICBjb252ZXJ0VG9SYXdcbn0gZnJvbSAnZHJhZnQtanMnO1xuXG5pbXBvcnQgZWRpdG9yU3R5bGUgZnJvbSAnLi4vLi4vLi4vc3R5bGVzL3NoYXJlZC9lZGl0b3Iuc3R5bGUnO1xuaW1wb3J0IHsgY3VzdG9tQmxvY2tSZW5kZXJNYXAsIGJsb2NrU3R5bGVGbiB9IGZyb20gJy4vY3VzdG9tX2Jsb2Nrcyc7XG5pbXBvcnQgeyBjdXN0b21TdHlsZU1hcCB9IGZyb20gJy4vY3VzdG9tX2lubGluZSc7XG5cbmNsYXNzIEV2ZXJMaWJFZGl0b3IgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGJsb2NrUmVuZGVyTWFwOiBEZWZhdWx0RHJhZnRCbG9ja1JlbmRlck1hcC5tZXJnZShjdXN0b21CbG9ja1JlbmRlck1hcClcbiAgICB9O1xuXG4gICAgdGhpcy5mb2N1cyA9ICgpID0+IHRoaXMucmVmcy5lZGl0b3IuZm9jdXMoKTtcbiAgfVxuXG4gIGhhbmRsZUtleUNvbW1hbmQgPSAoY29tbWFuZCkgPT4ge1xuICAgIGNvbnN0IG5ld1N0YXRlID1cbiAgICAgIFJpY2hVdGlscy5oYW5kbGVLZXlDb21tYW5kKHRoaXMucHJvcHMuZWRpdG9yU3RhdGUsIGNvbW1hbmQpO1xuICAgIGlmIChuZXdTdGF0ZSkge1xuICAgICAgdGhpcy5wcm9wcy5oYW5kbGVDaGFuZ2UobmV3U3RhdGUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc29sZS5sb2coJ1JlbmRlcmluZyBFdmVyTGliRWRpdG9yJyk7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZXZlcmxpYi1lZGl0b3IgZXZlcmxpYi1mb3JtYXRcIiBvbkNsaWNrPXt0aGlzLmZvY3VzfT5cbiAgICAgICAgPFN0eWxlIHJ1bGVzPXtlZGl0b3JTdHlsZSgpfSAvPlxuICAgICAgICA8RWRpdG9yXG4gICAgICAgICAgZWRpdG9yU3RhdGU9e3RoaXMucHJvcHMuZWRpdG9yU3RhdGV9XG4gICAgICAgICAgYmxvY2tTdHlsZUZuPXtibG9ja1N0eWxlRm59XG4gICAgICAgICAgYmxvY2tSZW5kZXJNYXA9e3RoaXMuc3RhdGUuYmxvY2tSZW5kZXJNYXB9XG4gICAgICAgICAgY3VzdG9tU3R5bGVNYXA9e2N1c3RvbVN0eWxlTWFwfVxuICAgICAgICAgIGhhbmRsZUtleUNvbW1hbmQ9e3RoaXMuaGFuZGxlS2V5Q29tbWFuZH1cbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy5wcm9wcy5oYW5kbGVDaGFuZ2V9XG4gICAgICAgICAgcmVmPVwiZWRpdG9yXCJcbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBFdmVyTGliRWRpdG9yO1xuIl19