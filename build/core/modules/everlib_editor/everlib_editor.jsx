'use strict';exports.__esModule=true;var _getPrototypeOf=require('babel-runtime/core-js/object/get-prototype-of');var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=require('babel-runtime/helpers/possibleConstructorReturn');var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=require('babel-runtime/helpers/inherits');var _inherits3=_interopRequireDefault(_inherits2);var _jsxFileName='core/modules/everlib_editor/everlib_editor.jsx';var _react=require('react');var _react2=_interopRequireDefault(_react);var _jassy=require('jassy');var _draftJs=require('draft-js');var _editor=require('../../../styles/shared/editor.style');var _editor2=_interopRequireDefault(_editor);var _custom_blocks=require('./custom_blocks');var _custom_inline=require('./custom_inline');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var EverLibEditor=function(_React$Component){(0,_inherits3.default)(EverLibEditor,_React$Component);function EverLibEditor(props){(0,_classCallCheck3.default)(this,EverLibEditor);var _this=(0,_possibleConstructorReturn3.default)(this,(EverLibEditor.__proto__||(0,_getPrototypeOf2.default)(EverLibEditor)).call(this,props));_this.handleKeyCommand=function(){return _this.__handleKeyCommand__REACT_HOT_LOADER__.apply(_this,arguments)};_this.state={blockRenderMap:_draftJs.DefaultDraftBlockRenderMap.merge(_custom_blocks.customBlockRenderMap)};_this.focus=function(){return _this.refs.editor.focus()};return _this}(0,_createClass3.default)(EverLibEditor,[{key:'__handleKeyCommand__REACT_HOT_LOADER__',value:function __handleKeyCommand__REACT_HOT_LOADER__(){return this.__handleKeyCommand__REACT_HOT_LOADER__.apply(this,arguments)}},{key:'__handleKeyCommand__REACT_HOT_LOADER__',value:function __handleKeyCommand__REACT_HOT_LOADER__(command){var newState=_draftJs.RichUtils.handleKeyCommand(this.props.editorState,command);if(newState){this.props.handleChange(newState);return true}return false}},{key:'render',value:function render(){console.log('Rendering EverLibEditor');return _react2.default.createElement('div',{className:'everlib-editor everlib-format',onClick:this.focus,__source:{fileName:_jsxFileName,lineNumber:42}},_react2.default.createElement(_jassy.Style,{rules:(0,_editor2.default)(),__source:{fileName:_jsxFileName,lineNumber:43}}),_react2.default.createElement(_draftJs.Editor,{editorState:this.props.editorState,blockStyleFn:_custom_blocks.blockStyleFn,blockRenderMap:this.state.blockRenderMap,customStyleMap:_custom_inline.customStyleMap,handleKeyCommand:this.handleKeyCommand,onChange:this.props.handleChange,ref:'editor',__source:{fileName:_jsxFileName,lineNumber:44}}))}}]);return EverLibEditor}(_react2.default.Component);var _default=EverLibEditor;exports.default=_default;;var _temp=function(){if(typeof __REACT_HOT_LOADER__==='undefined'){return}__REACT_HOT_LOADER__.register(EverLibEditor,'EverLibEditor','core/modules/everlib_editor/everlib_editor.jsx');__REACT_HOT_LOADER__.register(_default,'default','core/modules/everlib_editor/everlib_editor.jsx')}();;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV2ZXJsaWJfZWRpdG9yLmpzeCJdLCJuYW1lcyI6WyJFdmVyTGliRWRpdG9yIiwicHJvcHMiLCJoYW5kbGVLZXlDb21tYW5kIiwic3RhdGUiLCJibG9ja1JlbmRlck1hcCIsIm1lcmdlIiwiZm9jdXMiLCJyZWZzIiwiZWRpdG9yIiwiY29tbWFuZCIsIm5ld1N0YXRlIiwiZWRpdG9yU3RhdGUiLCJoYW5kbGVDaGFuZ2UiLCJjb25zb2xlIiwibG9nIiwiQ29tcG9uZW50Il0sIm1hcHBpbmdzIjoicXdCQUFBLDRCLDJDQUNBLDRCQUNBLGlDQVVBLDJELDZDQUNBLDhDQUNBLDhDLHFGQUVNQSxjLG1GQUVKLHVCQUFZQyxLQUFaLENBQW1CLDBMQUNYQSxLQURXLFNBVW5CQyxnQkFWbUIsd0ZBR2pCLE1BQUtDLEtBQUwsQ0FBYSxDQUNYQyxlQUFnQixvQ0FBMkJDLEtBQTNCLHFDQURMLENBQWIsQ0FJQSxNQUFLQyxLQUFMLENBQWEsaUJBQU0sT0FBS0MsSUFBTCxDQUFVQyxNQUFWLENBQWlCRixLQUFqQixFQUFOLENBQWIsQ0FQaUIsWUFRbEIsQyw4VEFFbUJHLE8sQ0FBWSxDQUM5QixHQUFNQyxVQUNKLG1CQUFVUixnQkFBVixDQUEyQixLQUFLRCxLQUFMLENBQVdVLFdBQXRDLENBQW1ERixPQUFuRCxDQURGLENBRUEsR0FBSUMsUUFBSixDQUFjLENBQ1osS0FBS1QsS0FBTCxDQUFXVyxZQUFYLENBQXdCRixRQUF4QixFQUNBLE1BQU8sS0FDUixDQUNELE1BQU8sTUFDUixDLHVDQUVRLENBQ1BHLFFBQVFDLEdBQVIsQ0FBWSx5QkFBWixFQUNBLE1BQ0Usc0NBQUssVUFBVSwrQkFBZixDQUErQyxRQUFTLEtBQUtSLEtBQTdELGlEQUNFLDRDQUFPLE1BQU8sc0JBQWQsaURBREYsQ0FFRSwrQ0FDRSxZQUFhLEtBQUtMLEtBQUwsQ0FBV1UsV0FEMUIsQ0FFRSx3Q0FGRixDQUdFLGVBQWdCLEtBQUtSLEtBQUwsQ0FBV0MsY0FIN0IsQ0FJRSw0Q0FKRixDQUtFLGlCQUFrQixLQUFLRixnQkFMekIsQ0FNRSxTQUFVLEtBQUtELEtBQUwsQ0FBV1csWUFOdkIsQ0FPRSxJQUFJLFFBUE4saURBRkYsQ0FhSCxDLDBCQXRDeUIsZ0JBQU1HLFMsZUEwQ25CZixhLG1JQTFDVEEsYSIsImZpbGUiOiJldmVybGliX2VkaXRvci5qc3giLCJzb3VyY2VSb290IjoiL1VzZXJzL3RvbnluZ3V5ZW4vRG9jdW1lbnRzL0dpdEh1Yi9jb2RlZm9yYXBwcy90b29scyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBTdHlsZSB9IGZyb20gJ2phc3N5JztcbmltcG9ydCB7XG4gIEF0b21pY0Jsb2NrVXRpbHMsXG4gIEVkaXRvcixcbiAgRWRpdG9yU3RhdGUsXG4gIFJpY2hVdGlscyxcbiAgRGVmYXVsdERyYWZ0QmxvY2tSZW5kZXJNYXAsXG4gIEJsb2NrVHlwZSxcbiAgY29udmVydFRvUmF3XG59IGZyb20gJ2RyYWZ0LWpzJztcblxuaW1wb3J0IGVkaXRvclN0eWxlIGZyb20gJy4uLy4uLy4uL3N0eWxlcy9zaGFyZWQvZWRpdG9yLnN0eWxlJztcbmltcG9ydCB7IGN1c3RvbUJsb2NrUmVuZGVyTWFwLCBibG9ja1N0eWxlRm4gfSBmcm9tICcuL2N1c3RvbV9ibG9ja3MnO1xuaW1wb3J0IHsgY3VzdG9tU3R5bGVNYXAgfSBmcm9tICcuL2N1c3RvbV9pbmxpbmUnO1xuXG5jbGFzcyBFdmVyTGliRWRpdG9yIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBibG9ja1JlbmRlck1hcDogRGVmYXVsdERyYWZ0QmxvY2tSZW5kZXJNYXAubWVyZ2UoY3VzdG9tQmxvY2tSZW5kZXJNYXApXG4gICAgfTtcblxuICAgIHRoaXMuZm9jdXMgPSAoKSA9PiB0aGlzLnJlZnMuZWRpdG9yLmZvY3VzKCk7XG4gIH1cblxuICBoYW5kbGVLZXlDb21tYW5kID0gKGNvbW1hbmQpID0+IHtcbiAgICBjb25zdCBuZXdTdGF0ZSA9XG4gICAgICBSaWNoVXRpbHMuaGFuZGxlS2V5Q29tbWFuZCh0aGlzLnByb3BzLmVkaXRvclN0YXRlLCBjb21tYW5kKTtcbiAgICBpZiAobmV3U3RhdGUpIHtcbiAgICAgIHRoaXMucHJvcHMuaGFuZGxlQ2hhbmdlKG5ld1N0YXRlKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnNvbGUubG9nKCdSZW5kZXJpbmcgRXZlckxpYkVkaXRvcicpO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImV2ZXJsaWItZWRpdG9yIGV2ZXJsaWItZm9ybWF0XCIgb25DbGljaz17dGhpcy5mb2N1c30+XG4gICAgICAgIDxTdHlsZSBydWxlcz17ZWRpdG9yU3R5bGUoKX0gLz5cbiAgICAgICAgPEVkaXRvclxuICAgICAgICAgIGVkaXRvclN0YXRlPXt0aGlzLnByb3BzLmVkaXRvclN0YXRlfVxuICAgICAgICAgIGJsb2NrU3R5bGVGbj17YmxvY2tTdHlsZUZufVxuICAgICAgICAgIGJsb2NrUmVuZGVyTWFwPXt0aGlzLnN0YXRlLmJsb2NrUmVuZGVyTWFwfVxuICAgICAgICAgIGN1c3RvbVN0eWxlTWFwPXtjdXN0b21TdHlsZU1hcH1cbiAgICAgICAgICBoYW5kbGVLZXlDb21tYW5kPXt0aGlzLmhhbmRsZUtleUNvbW1hbmR9XG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMucHJvcHMuaGFuZGxlQ2hhbmdlfVxuICAgICAgICAgIHJlZj1cImVkaXRvclwiXG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgRXZlckxpYkVkaXRvcjtcbiJdfQ==