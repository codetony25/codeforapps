'use strict';exports.__esModule=true;var _getPrototypeOf=require('babel-runtime/core-js/object/get-prototype-of');var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=require('babel-runtime/helpers/possibleConstructorReturn');var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=require('babel-runtime/helpers/inherits');var _inherits3=_interopRequireDefault(_inherits2);var _jsxFileName='components/pages/EditorPage/ProfileEditor/ProfileEditor.jsx';var _reactMeteorData=require('meteor/react-meteor-data');var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactRouter=require('react-router');var _books=require('/imports/api/books');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var BookProfileView=function(_React$Component){(0,_inherits3.default)(BookProfileView,_React$Component);function BookProfileView(props){(0,_classCallCheck3.default)(this,BookProfileView);var _this=(0,_possibleConstructorReturn3.default)(this,(BookProfileView.__proto__||(0,_getPrototypeOf2.default)(BookProfileView)).call(this,props));_this.componentWillReceiveProps=function(){return _this.__componentWillReceiveProps__REACT_HOT_LOADER__.apply(_this,arguments)};_this.state={loaded:false};_this.displayName='BookProfileView';return _this}(0,_createClass3.default)(BookProfileView,[{key:'__componentWillReceiveProps__REACT_HOT_LOADER__',value:function __componentWillReceiveProps__REACT_HOT_LOADER__(){return this.__componentWillReceiveProps__REACT_HOT_LOADER__.apply(this,arguments)}},{key:'__componentWillReceiveProps__REACT_HOT_LOADER__',value:function __componentWillReceiveProps__REACT_HOT_LOADER__(nextProps){if(!nextProps.subscriptionLoading&&!nextProps.book){_reactRouter.browserHistory.replace('/404')}if(!nextProps.subscriptionLoading&&nextProps.book&&!this.state.loaded){this.setState({loaded:true})}}},{key:'render',value:function render(){if(!this.state.loaded){return null}return _react2.default.createElement('div',{className:'book-profile-view',__source:{fileName:_jsxFileName,lineNumber:42}},this.props.book.title)}}]);return BookProfileView}(_react2.default.Component);var _default=(0,_reactMeteorData.createContainer)(function(props){var bookHandle=Meteor.subscribe('getBookForBookProfile',props.params.bookSlug);var subscriptionLoading=!bookHandle.ready();var book=_books.Books.find({}).fetch()[0];return{subscriptionLoading:subscriptionLoading,book:book}},BookProfileView);exports.default=_default;;var _temp=function(){if(typeof __REACT_HOT_LOADER__==='undefined'){return}__REACT_HOT_LOADER__.register(BookProfileView,'BookProfileView','components/pages/EditorPage/ProfileEditor/ProfileEditor.jsx');__REACT_HOT_LOADER__.register(_default,'default','components/pages/EditorPage/ProfileEditor/ProfileEditor.jsx')}();;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlByb2ZpbGVFZGl0b3IuanN4Il0sIm5hbWVzIjpbIkJvb2tQcm9maWxlVmlldyIsInByb3BzIiwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsInN0YXRlIiwibG9hZGVkIiwiZGlzcGxheU5hbWUiLCJuZXh0UHJvcHMiLCJzdWJzY3JpcHRpb25Mb2FkaW5nIiwiYm9vayIsInJlcGxhY2UiLCJzZXRTdGF0ZSIsInRpdGxlIiwiQ29tcG9uZW50IiwiYm9va0hhbmRsZSIsIk1ldGVvciIsInN1YnNjcmliZSIsInBhcmFtcyIsImJvb2tTbHVnIiwicmVhZHkiLCJmaW5kIiwiZmV0Y2giXSwibWFwcGluZ3MiOiJreEJBQUEseURBRUEsNEIsMkNBQ0EseUNBRUEseUMscUZBRU1BLGdCLHFGQUVKLHlCQUFZQyxLQUFaLENBQW1CLGdNQUNYQSxLQURXLFNBVW5CQyx5QkFWbUIsaUdBR2pCLE1BQUtDLEtBQUwsQ0FBYSxDQUNYQyxPQUFRLEtBREcsQ0FBYixDQUlBLE1BQUtDLFdBQUwsQ0FBbUIsaUJBQW5CLENBUGlCLFlBUWxCLEMsNldBRTRCQyxTLENBQWMsQ0FFekMsR0FBSSxDQUFDQSxVQUFVQyxtQkFBWCxFQUFrQyxDQUFDRCxVQUFVRSxJQUFqRCxDQUF1RCxDQUVyRCw0QkFBZUMsT0FBZixDQUF1QixNQUF2QixDQUNELENBR0QsR0FBSSxDQUFDSCxVQUFVQyxtQkFBWCxFQUFrQ0QsVUFBVUUsSUFBNUMsRUFBb0QsQ0FBQyxLQUFLTCxLQUFMLENBQVdDLE1BQXBFLENBQTRFLENBRzFFLEtBQUtNLFFBQUwsQ0FBYyxDQUFFTixPQUFRLElBQVYsQ0FBZCxDQUNELENBQ0YsQyx1Q0FFUSxDQUNQLEdBQUksQ0FBQyxLQUFLRCxLQUFMLENBQVdDLE1BQWhCLENBQXdCLENBRXRCLE1BQU8sS0FDUixDQUVELE1BQ0Usc0NBQUssVUFBVSxtQkFBZixpREFDRyxLQUFLSCxLQUFMLENBQVdPLElBQVgsQ0FBZ0JHLEtBRG5CLENBSUgsQyw0QkF0QzJCLGdCQUFNQyxTLGVBeUNyQixxQ0FBZ0IsU0FBQ1gsS0FBRCxDQUFXLENBRXhDLEdBQU1ZLFlBQ0pDLE9BQU9DLFNBQVAsQ0FBaUIsdUJBQWpCLENBQTBDZCxNQUFNZSxNQUFOLENBQWFDLFFBQXZELENBREYsQ0FHQSxHQUFNVixxQkFBc0IsQ0FBQ00sV0FBV0ssS0FBWCxFQUE3QixDQUNBLEdBQU1WLE1BQU8sYUFBTVcsSUFBTixDQUFXLEVBQVgsRUFBZUMsS0FBZixHQUF1QixDQUF2QixDQUFiLENBQ0EsTUFBTyxDQUNMYix1Q0FESyxDQUVMQyxTQUZLLENBSVIsQ0FYYyxDQVdaUixlQVhZLEMsbUlBekNUQSxlIiwiZmlsZSI6IlByb2ZpbGVFZGl0b3IuanN4Iiwic291cmNlUm9vdCI6Ii9Vc2Vycy90b255bmd1eWVuL1Byb2plY3RzL2NvZGVmb3JhcHBzL3Rvb2xzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29udGFpbmVyIH0gZnJvbSAnbWV0ZW9yL3JlYWN0LW1ldGVvci1kYXRhJztcblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGJyb3dzZXJIaXN0b3J5IH0gZnJvbSAncmVhY3Qtcm91dGVyJztcblxuaW1wb3J0IHsgQm9va3MgfSBmcm9tICcvaW1wb3J0cy9hcGkvYm9va3MnO1xuXG5jbGFzcyBCb29rUHJvZmlsZVZpZXcgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbG9hZGVkOiBmYWxzZVxuICAgIH07XG5cbiAgICB0aGlzLmRpc3BsYXlOYW1lID0gJ0Jvb2tQcm9maWxlVmlldyc7XG4gIH1cblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gKG5leHRQcm9wcykgPT4ge1xuICAgIC8vIElmIHdlJ3JlIG5vIGxvbmdlciBsb2FkaW5nIGFuZCB0aGUgYm9vayBpcyBudWxsLCBpdCBkb2Vzbid0IGV4aXN0LlxuICAgIGlmICghbmV4dFByb3BzLnN1YnNjcmlwdGlvbkxvYWRpbmcgJiYgIW5leHRQcm9wcy5ib29rKSB7XG4gICAgICAvLyBXZSB3YW50IHRvIHVzZSByZXBsYWNlIGluc3RlYWQgb2YgcHVzaCBzbyB0aGF0IHRoZSBiYWQgdXJsIGRvZXNuJ3Qgc3RheSBpbiBoaXN0b3J5XG4gICAgICBicm93c2VySGlzdG9yeS5yZXBsYWNlKCcvNDA0Jyk7XG4gICAgfVxuICAgIC8vIElmIHdlJ3JlIG5vdCB3YWl0aW5nIG9uIHRoZSBzdWJzY3JpcHRpb24gYW55IGxvbmdlciwgYW5kIHdlIGhhdmVuJ3Qgc2V0IHVwIG91clxuICAgIC8vIHN0YXRlIGJhc2VkIG9mZiBzb21lIGJvb2sgcHJvcGVydGllcywgbGV0J3MgZG8gdGhhdCBub3cuXG4gICAgaWYgKCFuZXh0UHJvcHMuc3Vic2NyaXB0aW9uTG9hZGluZyAmJiBuZXh0UHJvcHMuYm9vayAmJiAhdGhpcy5zdGF0ZS5sb2FkZWQpIHtcbiAgICAgIC8vIFRPRE86IElmIHRoZXJlIGlzIG5vIHB1Ymxpc2hlZCB2ZXJzaW9uIG9mIHRoaXMgYm9vaywgbWFrZSBzdXJlIHRoYXQgb25seVxuICAgICAgLy8gVE9ETzogVGhlIGF1dGhvcnMgYW4gY29udHJpYnV0b3JzIGNhbiBzZWUgaXQuXG4gICAgICB0aGlzLnNldFN0YXRlKHsgbG9hZGVkOiB0cnVlIH0pO1xuICAgIH1cbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmxvYWRlZCkge1xuICAgICAgLy8gVE9ETzogRG8gc29tZSBsb2FkaW5nIHRoaW5nXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJib29rLXByb2ZpbGUtdmlld1wiPlxuICAgICAgICB7dGhpcy5wcm9wcy5ib29rLnRpdGxlfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb250YWluZXIoKHByb3BzKSA9PiB7XG4gIC8vIEdldCB0aGUgYm9vayBmcm9tIHRoZSBzbHVnXG4gIGNvbnN0IGJvb2tIYW5kbGUgPVxuICAgIE1ldGVvci5zdWJzY3JpYmUoJ2dldEJvb2tGb3JCb29rUHJvZmlsZScsIHByb3BzLnBhcmFtcy5ib29rU2x1Zyk7XG4gIC8vIEEgdmFyaWFibGUgdG8gc2VlIGlmIHRoZSBib29rIGlzIHN0aWxsIGxvYWRpbmdcbiAgY29uc3Qgc3Vic2NyaXB0aW9uTG9hZGluZyA9ICFib29rSGFuZGxlLnJlYWR5KCk7XG4gIGNvbnN0IGJvb2sgPSBCb29rcy5maW5kKHt9KS5mZXRjaCgpWzBdO1xuICByZXR1cm4ge1xuICAgIHN1YnNjcmlwdGlvbkxvYWRpbmcsXG4gICAgYm9va1xuICB9O1xufSwgQm9va1Byb2ZpbGVWaWV3KTsiXX0=