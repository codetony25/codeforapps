'use strict';exports.__esModule=true;var _getPrototypeOf=require('babel-runtime/core-js/object/get-prototype-of');var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=require('babel-runtime/helpers/possibleConstructorReturn');var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=require('babel-runtime/helpers/inherits');var _inherits3=_interopRequireDefault(_inherits2);var _jsxFileName='components/pages/EditorPage/ProfileEditor/ProfileEditor.jsx';var _reactMeteorData=require('meteor/react-meteor-data');var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactRouter=require('react-router');var _books=require('/imports/api/books');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var BookProfileView=function(_React$Component){(0,_inherits3.default)(BookProfileView,_React$Component);function BookProfileView(props){(0,_classCallCheck3.default)(this,BookProfileView);var _this=(0,_possibleConstructorReturn3.default)(this,(BookProfileView.__proto__||(0,_getPrototypeOf2.default)(BookProfileView)).call(this,props));_this.componentWillReceiveProps=function(){return _this.__componentWillReceiveProps__REACT_HOT_LOADER__.apply(_this,arguments)};_this.state={loaded:false};_this.displayName='BookProfileView';return _this}(0,_createClass3.default)(BookProfileView,[{key:'__componentWillReceiveProps__REACT_HOT_LOADER__',value:function __componentWillReceiveProps__REACT_HOT_LOADER__(){return this.__componentWillReceiveProps__REACT_HOT_LOADER__.apply(this,arguments)}},{key:'__componentWillReceiveProps__REACT_HOT_LOADER__',value:function __componentWillReceiveProps__REACT_HOT_LOADER__(nextProps){if(!nextProps.subscriptionLoading&&!nextProps.book){_reactRouter.browserHistory.replace('/404')}if(!nextProps.subscriptionLoading&&nextProps.book&&!this.state.loaded){this.setState({loaded:true})}}},{key:'render',value:function render(){if(!this.state.loaded){return null}return _react2.default.createElement('div',{className:'book-profile-view',__source:{fileName:_jsxFileName,lineNumber:42}},this.props.book.title)}}]);return BookProfileView}(_react2.default.Component);var _default=(0,_reactMeteorData.createContainer)(function(props){var bookHandle=Meteor.subscribe('getBookForBookProfile',props.params.bookSlug);var subscriptionLoading=!bookHandle.ready();var book=_books.Books.find({}).fetch()[0];return{subscriptionLoading:subscriptionLoading,book:book}},BookProfileView);exports.default=_default;;var _temp=function(){if(typeof __REACT_HOT_LOADER__==='undefined'){return}__REACT_HOT_LOADER__.register(BookProfileView,'BookProfileView','components/pages/EditorPage/ProfileEditor/ProfileEditor.jsx');__REACT_HOT_LOADER__.register(_default,'default','components/pages/EditorPage/ProfileEditor/ProfileEditor.jsx')}();;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlByb2ZpbGVFZGl0b3IuanN4Il0sIm5hbWVzIjpbIkJvb2tQcm9maWxlVmlldyIsInByb3BzIiwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsInN0YXRlIiwibG9hZGVkIiwiZGlzcGxheU5hbWUiLCJuZXh0UHJvcHMiLCJzdWJzY3JpcHRpb25Mb2FkaW5nIiwiYm9vayIsInJlcGxhY2UiLCJzZXRTdGF0ZSIsInRpdGxlIiwiQ29tcG9uZW50IiwiYm9va0hhbmRsZSIsIk1ldGVvciIsInN1YnNjcmliZSIsInBhcmFtcyIsImJvb2tTbHVnIiwicmVhZHkiLCJmaW5kIiwiZmV0Y2giXSwibWFwcGluZ3MiOiJreEJBQUEseURBRUEsNEIsMkNBQ0EseUNBRUEseUMscUZBRU1BLGdCLHFGQUVKLHlCQUFZQyxLQUFaLENBQW1CLGdNQUNYQSxLQURXLFNBVW5CQyx5QkFWbUIsaUdBR2pCLE1BQUtDLEtBQUwsQ0FBYSxDQUNYQyxPQUFRLEtBREcsQ0FBYixDQUlBLE1BQUtDLFdBQUwsQ0FBbUIsaUJBQW5CLENBUGlCLFlBUWxCLEMsNldBRTRCQyxTLENBQWMsQ0FFekMsR0FBSSxDQUFDQSxVQUFVQyxtQkFBWCxFQUFrQyxDQUFDRCxVQUFVRSxJQUFqRCxDQUF1RCxDQUVyRCw0QkFBZUMsT0FBZixDQUF1QixNQUF2QixDQUNELENBR0QsR0FBSSxDQUFDSCxVQUFVQyxtQkFBWCxFQUFrQ0QsVUFBVUUsSUFBNUMsRUFBb0QsQ0FBQyxLQUFLTCxLQUFMLENBQVdDLE1BQXBFLENBQTRFLENBRzFFLEtBQUtNLFFBQUwsQ0FBYyxDQUFFTixPQUFRLElBQVYsQ0FBZCxDQUNELENBQ0YsQyx1Q0FFUSxDQUNQLEdBQUksQ0FBQyxLQUFLRCxLQUFMLENBQVdDLE1BQWhCLENBQXdCLENBRXRCLE1BQU8sS0FDUixDQUVELE1BQ0Usc0NBQUssVUFBVSxtQkFBZixpREFDRyxLQUFLSCxLQUFMLENBQVdPLElBQVgsQ0FBZ0JHLEtBRG5CLENBSUgsQyw0QkF0QzJCLGdCQUFNQyxTLGVBeUNyQixxQ0FBZ0IsU0FBQ1gsS0FBRCxDQUFXLENBRXhDLEdBQU1ZLFlBQ0pDLE9BQU9DLFNBQVAsQ0FBaUIsdUJBQWpCLENBQTBDZCxNQUFNZSxNQUFOLENBQWFDLFFBQXZELENBREYsQ0FHQSxHQUFNVixxQkFBc0IsQ0FBQ00sV0FBV0ssS0FBWCxFQUE3QixDQUNBLEdBQU1WLE1BQU8sYUFBTVcsSUFBTixDQUFXLEVBQVgsRUFBZUMsS0FBZixHQUF1QixDQUF2QixDQUFiLENBQ0EsTUFBTyxDQUNMYix1Q0FESyxDQUVMQyxTQUZLLENBSVIsQ0FYYyxDQVdaUixlQVhZLEMsbUlBekNUQSxlIiwiZmlsZSI6IlByb2ZpbGVFZGl0b3IuanN4Iiwic291cmNlUm9vdCI6Ii9Vc2Vycy90b255bmd1eWVuL0RvY3VtZW50cy9HaXRIdWIvY29kZWZvcmFwcHMvdG9vbHMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb250YWluZXIgfSBmcm9tICdtZXRlb3IvcmVhY3QtbWV0ZW9yLWRhdGEnO1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgYnJvd3Nlckhpc3RvcnkgfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xuXG5pbXBvcnQgeyBCb29rcyB9IGZyb20gJy9pbXBvcnRzL2FwaS9ib29rcyc7XG5cbmNsYXNzIEJvb2tQcm9maWxlVmlldyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIFxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBsb2FkZWQ6IGZhbHNlXG4gICAgfTtcblxuICAgIHRoaXMuZGlzcGxheU5hbWUgPSAnQm9va1Byb2ZpbGVWaWV3JztcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSAobmV4dFByb3BzKSA9PiB7XG4gICAgLy8gSWYgd2UncmUgbm8gbG9uZ2VyIGxvYWRpbmcgYW5kIHRoZSBib29rIGlzIG51bGwsIGl0IGRvZXNuJ3QgZXhpc3QuXG4gICAgaWYgKCFuZXh0UHJvcHMuc3Vic2NyaXB0aW9uTG9hZGluZyAmJiAhbmV4dFByb3BzLmJvb2spIHtcbiAgICAgIC8vIFdlIHdhbnQgdG8gdXNlIHJlcGxhY2UgaW5zdGVhZCBvZiBwdXNoIHNvIHRoYXQgdGhlIGJhZCB1cmwgZG9lc24ndCBzdGF5IGluIGhpc3RvcnlcbiAgICAgIGJyb3dzZXJIaXN0b3J5LnJlcGxhY2UoJy80MDQnKTtcbiAgICB9XG4gICAgLy8gSWYgd2UncmUgbm90IHdhaXRpbmcgb24gdGhlIHN1YnNjcmlwdGlvbiBhbnkgbG9uZ2VyLCBhbmQgd2UgaGF2ZW4ndCBzZXQgdXAgb3VyXG4gICAgLy8gc3RhdGUgYmFzZWQgb2ZmIHNvbWUgYm9vayBwcm9wZXJ0aWVzLCBsZXQncyBkbyB0aGF0IG5vdy5cbiAgICBpZiAoIW5leHRQcm9wcy5zdWJzY3JpcHRpb25Mb2FkaW5nICYmIG5leHRQcm9wcy5ib29rICYmICF0aGlzLnN0YXRlLmxvYWRlZCkge1xuICAgICAgLy8gVE9ETzogSWYgdGhlcmUgaXMgbm8gcHVibGlzaGVkIHZlcnNpb24gb2YgdGhpcyBib29rLCBtYWtlIHN1cmUgdGhhdCBvbmx5XG4gICAgICAvLyBUT0RPOiBUaGUgYXV0aG9ycyBhbiBjb250cmlidXRvcnMgY2FuIHNlZSBpdC5cbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBsb2FkZWQ6IHRydWUgfSk7XG4gICAgfVxuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUubG9hZGVkKSB7XG4gICAgICAvLyBUT0RPOiBEbyBzb21lIGxvYWRpbmcgdGhpbmdcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvb2stcHJvZmlsZS12aWV3XCI+XG4gICAgICAgIHt0aGlzLnByb3BzLmJvb2sudGl0bGV9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbnRhaW5lcigocHJvcHMpID0+IHtcbiAgLy8gR2V0IHRoZSBib29rIGZyb20gdGhlIHNsdWdcbiAgY29uc3QgYm9va0hhbmRsZSA9XG4gICAgTWV0ZW9yLnN1YnNjcmliZSgnZ2V0Qm9va0ZvckJvb2tQcm9maWxlJywgcHJvcHMucGFyYW1zLmJvb2tTbHVnKTtcbiAgLy8gQSB2YXJpYWJsZSB0byBzZWUgaWYgdGhlIGJvb2sgaXMgc3RpbGwgbG9hZGluZ1xuICBjb25zdCBzdWJzY3JpcHRpb25Mb2FkaW5nID0gIWJvb2tIYW5kbGUucmVhZHkoKTtcbiAgY29uc3QgYm9vayA9IEJvb2tzLmZpbmQoe30pLmZldGNoKClbMF07XG4gIHJldHVybiB7XG4gICAgc3Vic2NyaXB0aW9uTG9hZGluZyxcbiAgICBib29rXG4gIH07XG59LCBCb29rUHJvZmlsZVZpZXcpOyJdfQ==